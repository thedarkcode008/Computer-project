import tkinter as tk
from tkinter import messagebox, ttk
from tkinter import DateEntry
import datetime

# Sample vehicle list
vehicles = [
    "Toyota Corolla",
    "Honda Civic",
    "Ford Mustang",
    "Tesla Model 3",
    "BMW 3 Series"
]

# Main application class
class TestDriveApp:
    def __init__(self, root):
        self.root = root
        self.root.title("Test Drive Booking System")
        self.root.geometry("400x400")

        # Title
        title = tk.Label(root, text="Book a Test Drive", font=("Helvetica", 16, "bold"))
        title.pack(pady=10)

        # Vehicle selection
        tk.Label(root, text="Select a Vehicle:").pack()
        self.vehicle_var = tk.StringVar()
        self.vehicle_combo = ttk.Combobox(root, textvariable=self.vehicle_var, values=vehicles, state='readonly')
        self.vehicle_combo.pack(pady=5)
        self.vehicle_combo.current(0)

        # Date selection
        tk.Label(root, text="Select Pickup Date:").pack()
        self.date_entry = DateEntry(root, width=18, background='darkblue', foreground='white', borderwidth=2)
        self.date_entry.pack(pady=5)

        # Time selection
        tk.Label(root, text="Select Pickup Time:").pack()
        self.time_var = tk.StringVar()
        self.time_combo = ttk.Combobox(root, textvariable=self.time_var, values=self.generate_times(), state='readonly')
        self.time_combo.pack(pady=5)
        self.time_combo.current(0)

        # Confirm Button
        confirm_btn = tk.Button(root, text="Confirm Booking", command=self.confirm_booking, bg="green", fg="white")
        confirm_btn.pack(pady=20)

    def generate_times(self):
        # Generate time slots every 30 minutes from 9:00 to 17:00
        times = []
        start = datetime.datetime.strptime("09:00", "%H:%M")
        for i in range(17):
            time_str = (start + datetime.timedelta(minutes=30 * i)).strftime("%H:%M")
            times.append(time_str)
        return times

    def confirm_booking(self):
        vehicle = self.vehicle_var.get()
        date = self.date_entry.get_date()
        time = self.time_var.get()

        if vehicle and date and time:
            msg = f"Test Drive Booked!\n\nVehicle: {vehicle}\nDate: {date.strftime('%Y-%m-%d')}\nTime: {time}"
            messagebox.showinfo("Booking Confirmed", msg)
        else:
            messagebox.showwarning("Incomplete", "Please complete all fields.")

# Run the app
if __name__ == "__main__":
    root = tk.Tk()
    app = TestDriveApp(root)
    root.mainloop()
